<% Red.meta.records.each do |r| %>
  var <%= r.relative_name %> = function(id) {
      var recordType = "<%= r.name %>";
      var recordId = (id instanceof jQuery) ? id.attr("data-record-id") : id;
      Red.createRecord(recordType, recordId).cloneTo(this);
  };
<% end %>

<% Red.meta.events.each do |e| %>
  var <%= e.relative_name %> = function(props) {
    jQuery.extend(this, Red.event("<%= e.name %>", props));
    this.paramNames = [<%= e.meta.params(true).map{|f| "'#{f.name}'"}.join(", ") %>];
  };
<% end %>